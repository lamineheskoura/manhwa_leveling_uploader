name: GHOST-DRISSION ENGINE V6.0

on:
  schedule:
    - cron: '*/30 * * * *' # Ø§Ù†Ø·Ù„Ø§Ù‚ Ø§Ù„Ù‡Ø¬ÙˆÙ… ÙƒÙ„ 30 Ø¯Ù‚ÙŠÙ‚Ø© Ø³ÙŠØ¯ÙŠ
  workflow_dispatch: # Ù„Ù„Ø¨Ø¯Ø¡ Ø§Ù„ÙŠØ¯ÙˆÙŠ Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©

jobs:
  deployment:
    runs-on: ubuntu-latest
    timeout-minutes: 25

    steps:
      - name: ğŸ›¡ï¸ Checkout Repository
        uses: actions/checkout@v4

      - name: ğŸ Setup Python 3.10
        uses: actions/setup-python@v5
        with:
          python-version: '3.10'
          cache: 'pip'

      - name: ğŸŒ Install Chromium & Dependencies
        run: |
          sudo apt-get update
          # ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ØªØµÙØ­ ÙˆØ§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠØ© Ù„Ø¹Ù…Ù„ DrissionPage Ø³ÙŠØ¯ÙŠ
          sudo apt-get install -y chromium-browser libnss3 libgbm1 libasound2t64 xdg-utils

      - name: ğŸ“¦ Install Ghost Dependencies
        run: |
          python -m pip install --upgrade pip
          # ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù…Ù„ÙƒÙŠØ©
          pip install DrissionPage telethon requests

      - name: âš”ï¸ Launch Sovereign Ghost Mission
        env:
          # Ø§Ù„Ø£Ø³Ø±Ø§Ø± Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠØ© Ø³ÙŠØ¯ÙŠ
          SB_URL: ${{ secrets.SB_URL }}
          SB_KEY: ${{ secrets.SB_KEY }}
          PYTHONUNBUFFERED: 1
        run: python Cloud_Engine.py

      - name: ğŸ“‹ Mission Summary
        if: always()
        run: |
          echo "Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù…Ù‡Ù…Ø© Ø³ÙŠØ¯ÙŠ Ø§Ù„Ù‚Ø§Ø¦Ø¯. Ø§Ù„Ø­Ø§Ù„Ø©: ${{ job.status }}"