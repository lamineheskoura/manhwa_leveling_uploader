# --- Professional Global Commenting Protocol: ROYAL WORKFLOW V8.5 Ø³ÙŠØ¯ÙŠ ---
name: Royal Cloud Engine Deployment

on:
  schedule:
    # Ø³ÙŠØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø­Ø±Ùƒ ÙƒÙ„ 20 Ø¯Ù‚ÙŠÙ‚Ø© Ø³ÙŠØ¯ÙŠ Ù„Ø¶Ù…Ø§Ù† Ø§Ø³ØªÙ…Ø±Ø§Ø±ÙŠØ© Ø§Ù„ØºØ²Ùˆ
    - cron: '*/20 * * * *'
  workflow_dispatch: # ÙŠØªÙŠØ­ Ù„Ùƒ ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø­Ø±Ùƒ ÙŠØ¯ÙˆÙŠØ§Ù‹ Ù…Ù† GitHub Ø³ÙŠØ¯ÙŠ

jobs:
  run-engine:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“¥ Ø³Ø­Ø¨ Ø§Ù„ÙƒÙˆØ¯ Ù…Ù† Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹
        uses: actions/checkout@v3

      - name: ğŸ Ø¥Ø¹Ø¯Ø§Ø¯ Ø¨ÙŠØ¦Ø© Ø¨Ø§ÙŠØ«ÙˆÙ†
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'

      - name: ğŸŒ ØªØ«Ø¨ÙŠØª Ù…ØªØµÙØ­ Google Chrome
        run: |
          sudo apt-get update
          sudo apt-get install -y google-chrome-stable

      - name: ğŸ“¦ ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª ÙˆØªØµÙÙŠØ© ØªØ¹Ø§Ø±Ø¶ Ø§Ù„Ø¨Ø±ÙˆÙƒØ³ÙŠ
        run: |
          python -m pip install --upgrade pip
          # ØªØ«Ø¨ÙŠØª Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…ØªÙˆØ§ÙÙ‚Ø© Ø§Ù„ØªÙŠ ØªØ­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø¨Ø±ÙˆÙƒØ³ÙŠ Ø³ÙŠØ¯ÙŠ
          pip install httpx==0.24.1 
          pip install -r requirements.txt

      - name: ğŸš€ Ø¥Ø·Ù„Ø§Ù‚ Ø§Ù„Ù…Ø­Ø±Ùƒ Ø§Ù„Ù…Ù„ÙƒÙŠ
        env:
          # Ø±Ø¨Ø· Ø§Ù„Ø£Ø³Ø±Ø§Ø± Ø§Ù„Ù…Ø®Ø²Ù†Ø© ÙÙŠ GitHub Ø¨Ø¨ÙŠØ¦Ø© Ø§Ù„Ø¹Ù…Ù„ Ø³ÙŠØ¯ÙŠ
          SB_URL: ${{ secrets.SB_URL }}
          SB_KEY: ${{ secrets.SB_KEY }}
          TG_API_ID: ${{ secrets.TG_API_ID }}
          TG_API_HASH: ${{ secrets.TG_API_HASH }}
          TG_CHAT_ID: ${{ secrets.TG_CHAT_ID }}
          BOT_TOKENS: ${{ secrets.BOT_TOKENS }}
          SITE_API_URL: ${{ secrets.SITE_API_URL }}
          SITE_API_KEY: ${{ secrets.SITE_API_KEY }}
        run: python Cloud_Engine.py